document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelector(".question-div"),t=document.querySelector(".choices-div"),o=[...document.querySelector(".container .button-container").querySelectorAll("button")],n=o[0],c=o[1],i=o[2],r=o[3],s=o[4],a=document.querySelector(".quote-overlay"),d=document.querySelector(".quote-close"),l=document.querySelector(".quote-div"),u=document.querySelector(".answer-overlay"),v=document.querySelector(".answer-close"),m=document.querySelector(".answer-div"),h=document.querySelector(".note-div"),q=document.querySelector(".answer-content .button-container").querySelector("button"),L=[...document.querySelector(".quote-content .button-container").querySelectorAll("button")],y=L[0],w=L[1],p=L[2],f=document.querySelector(".notification-div"),b=document.querySelector(".notification-close"),E=document.querySelector(".notification-message"),k=document.querySelector(".close-welcome");let $=0,S=-1;const g=[],T=[];function M(o){if(g[o]){$=o;const n=g[o];e.innerHTML=`<h2><span>${o+1}.</span> ${n.question}</h2>`,t.innerHTML="";for(const e in n.options){const o=document.createElement("div");o.classList.add("list-div"),o.textContent=`${e}: ${n.options[e]}`,t.appendChild(o),o.addEventListener("click",(()=>{C(n,e)?H(n.note,n.answer):F(o)}))}}}function x(){c.disabled=0===$,n.disabled=$===g.length-1}function C(e,t){return t===e.answer}function H(e,t){e&&(u.classList.add("active"),h.innerHTML=`<p>${e}</p>`),m.innerHTML=`<h2>Correct answer: ${t}</h2>`}function F(e){e.classList.add("vibrate"),setTimeout((()=>{e.classList.remove("vibrate")}),500)}function j(e){const t=Math.floor(Math.random()*T.length),o=T[t];S=t,e.innerHTML=`<h2>${o.quote}</h2><br> <h4>${o.author}</h4>`}function N(e){f.classList.add("active"),E.innerHTML=`<p>${e}</p>`,setTimeout((()=>{f.classList.remove("active")}),5e3)}n.disabled=!1,c.disabled=!1,await async function(){try{const e=await fetch("question.json");if(!e.ok)throw new Error("Network error was not ok");const t=await e.json();g.push(...t.questions)}catch(e){console.error(`There was a problem with the fetch operation: ${e}`)}}(),await async function(){try{const e=await fetch("quotes.json");if(!e.ok)throw new Error("Network Error");const t=await e.json();T.push(...t.quotes)}catch(e){console.error("Error fetching data")}}(),g.length>0&&(M(0),x()),i.addEventListener("click",(()=>{a.classList.add("active"),j(l)})),d.addEventListener("click",(()=>{a.classList.remove("active")})),p.addEventListener("click",(()=>{a.classList.remove("active")})),y.addEventListener("click",(()=>{j(l)})),q.addEventListener("click",(()=>{u.classList.remove("active")})),v.addEventListener("click",(()=>{u.classList.remove("active")})),n.addEventListener("click",(()=>{$<g.length-1?M($+1):(console.log("No more questions!"),n.disabled=!0),x()})),c.addEventListener("click",(()=>{$>=0?M($-1):(console.log("No more questions!"),c.disabled=!0),x()})),r.addEventListener("click",(()=>{!function(){const e=`Q: ${g[$].question}`;navigator.clipboard.writeText(e).then((()=>{N(`Current question ${$+1} copied!`)})).catch((e=>{console.error("Failed to copy text: ",e)}))}()})),s.addEventListener("click",(()=>{!function(){const e=g[$],t=`Q: ${e.question}\nOptions:\n`;let o="";for(const t in e.options)o+=`${t}: ${e.options[t]}\n`;const n=`${t}${o}`;navigator.clipboard.writeText(n).then((()=>{N(`Current question ${$+1} copied!`)})).catch((e=>{console.error("Failed to copy text: ",e)}))}()})),w.addEventListener("click",(()=>{!function(){const e=T[S],t=`"${e.quote}"\n- ${e.author}`;navigator.clipboard.writeText(t).then((()=>{N(`Current quote ${S+1} copied!`)})).catch((e=>{console.error("Failed to copy text: ",e)}))}()})),b.addEventListener("click",(()=>{f.classList.remove("active")})),k.addEventListener("click",(()=>{document.getElementById("welcomeIntro").classList.add("fade-out"),setTimeout((()=>{document.querySelector(".welcome-overlay").style.display="none"}),1e3)})),document.getElementById("install-button").addEventListener("click",(()=>{window.open("https://vladimirgagarin.github.io/Magical-Friend-Facebook/","_blank")}))}));
